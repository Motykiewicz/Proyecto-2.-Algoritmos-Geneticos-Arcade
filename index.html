<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Arkanoid con algoritmo genetico </title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Arkanoid con algoritmo genetico! </h1>

    <!-- Panel de parámetros del GA -->
    <div id="ga-params" style="margin-bottom: 10px; text-align:center; font-size: 14px;">
        <div style="margin-bottom:4px; display:flex; justify-content:center; flex-wrap:wrap; gap:8px;">
            <label>
                Población (N):
                <input type="number" id="inputPopulation" value="100" min="20" max="500" style="width:60px;">
            </label>
            <label>
                Generaciones (G):
                <input type="number" id="inputGenerations" value="1000" min="50" max="5000" style="width:70px;">
            </label>
            <label>
                Seed:
                <input type="number" id="inputSeed" value="12345" style="width:80px;">
            </label>
            <label>
                FPS sim:
                <input type="number" id="inputFPS" value="60" min="10" max="120" style="width:60px;">
            </label>
            <label>
                Episodios/Individuo:
                <input type="number" id="inputEpisodes" value="1" min="1" max="10" style="width:50px;">
            </label>
        </div>

        <div style="display:flex; justify-content:center; flex-wrap:wrap; gap:8px;">
            <label>
                % Selección:
                <input type="number" id="inputSel" value="10" min="0" max="100" style="width:50px;">
            </label>
            <label>
                % Cruce:
                <input type="number" id="inputCross" value="85" min="0" max="100" style="width:50px;">
            </label>
            <label>
                % Mutación:
                <input type="number" id="inputMut" value="5" min="0" max="100" style="width:50px;">
            </label>
            <span id="advertenciaPorcentaje" style="color: #ff5555; margin-left:8px;"></span>
        </div>
    </div>

    <div id="top-panel">
        <button id="btnStart">Start</button>
        <button id="btnPause" disabled>Pause/Resume</button>
        <button id="btnReset">Reset</button>

        <button id="btnProbarAlgoritmo">Probar Algoritmo</button>
        <button id="btnProbarGreedy">Probar Greedy</button>
        <button id="btnMejorDemo" disabled>Mejor Demo</button>
        <button id="btnDescargarDemo" disabled>Descargar Demo</button>

        <span id="scoreLabel">
            Score: <span id="scoreValue">0</span>
        </span>

        <span id="livesLabel">
            Lives: <span id="livesValue">3</span>
        </span>
    </div>

    <div id="metricas-ga">
        <canvas id="TablaGA" width="480" height="160"></canvas>
        <div id="estadisticasGA">
            <span> Mejor Fitness: <span id="etiquetaMejorFitness">0</span> </span>
            <span> Fitness Promedio: <span id="etiquetaFitnessPromedio">0</span> </span>
            <span> TiempoTotal: <span id="etiquetaTiempoTotal">0</span> </span>
            <span> Tiempo por generacion: <span id="etiquetaTiempoGen">0</span> </span>
        </div>   
    </div>
    <div id="zonaJuego">
        <!-- Panel Greedy a la izquierda -->
        <div class="panel-agente">
            <h3>Greedy (heuristica baseline)</h3>
            <p>Fitness promedio: <span id="greedyFitness">-</span></p>
            <p>Ladrillos rotos promedio: <span id="greedyBricks">-</span></p>
            <p>Rebotes en barra promedio: <span id="greedyRebotes">-</span></p>
            <p>Supervivencia promedio (0–1): <span id="greedySuperv">-</span></p>
            <p>Distancia promedio X (0–1): <span id="greedyDist">-</span></p>
            <p>Max. combo ladrillos sin barra: <span id="greedyCombo">-</span></p>
        </div>

        <div id="gameWrapper">
            <canvas id="gameCanvas" width="480" height="640"></canvas>
        </div>

        <div class="panel-agente">
            <h3>Algoritmo Genético (mejor individuo)</h3>
            <p>Fitness promedio: <span id="gaFitness">-</span></p>
            <p>Ladrillos rotos promedio: <span id="gaBricks">-</span></p>
            <p>Rebotes en barra promedio: <span id="gaRebotes">-</span></p>
            <p>Supervivencia promedio (0–1): <span id="gaSuperv">-</span></p>
            <p>Distancia promedio X (0–1): <span id="gaDist">-</span></p>
            <p>Máx. combo ladrillos sin barra: <span id="gaCombo">-</span></p>
        </div>
    </div>

    <script src="game.js"></script>
    <script src="algoritmoGen.js"></script>
</body>
</html>
